
# ğŸ‘‹ Level 1 Project :: STS(Semantic Text Similarity)

## ğŸ“• í”„ë¡œì íŠ¸ ì†Œê°œ
> ë³¸ ëŒ€íšŒì˜ ëª©í‘œëŠ” STS ë°ì´í„° ì…‹ì„ í™œìš©í•´ ë‘ ë¬¸ì¥ì˜ ìœ ì‚¬ë„ë¥¼ ì¸¡ì •í•˜ëŠ” AI ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒìœ¼ë¡œ, [ë‘ ê°œì˜ ë¬¸ì¥ê³¼ ID, ìœ ì‚¬ë„ ì •ë³´ê°€ ë‹´ê¸´ CSV]ë¥¼ ì…ë ¥ë°›ì•„ [ë¬¸ì¥ ìŒì— ëŒ€í•œ ID, ìœ ì‚¬ë„ ì ìˆ˜ê°€ ë‹´ê¸´ CSV]ë¥¼ ì¶œë ¥í•˜ì—¬ í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ë¥¼ í†µí•´ í‰ê°€í•œë‹¤.
> 
> STSëŠ” ë¬¸ì¥ ê°„ì˜ ì˜ë¯¸ì  ìœ ì‚¬ì„±ì„ íŒë‹¨í•˜ëŠ” ê¸°ìˆ ë¡œ, ë‹¤ì–‘í•œ ì‘ìš© ë¶„ì•¼ì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, â€œê²°ì œëŠ” ì–´ë””ì—ì„œ í•˜ë‚˜ìš”?â€ì™€ â€œê³„ì‚°í•˜ëŠ” ê³³ì€ ì–´ë””ì¸ê°€ìš”?â€ì™€ ê°™ì´ ì„œë¡œ ë‹¤ë¥´ê²Œ í‘œí˜„ë˜ì—ˆì§€ë§Œ ê°™ì€ ì˜ë¯¸ë¥¼ ë‹´ê³  ìˆëŠ” ë¬¸ì¥ë“¤ì„ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì´ë¥¼ í†µí•´ ì§ˆë¬¸-ë‹µë³€ ì‹œìŠ¤í…œ, ë¬¸ì¥ ìš”ì•½, ì±—ë´‡ì˜ ì§ˆë¬¸ ì œì•ˆ, ì¤‘ë³µ ë¬¸ì¥ íƒì§€ ë“± ë‹¤ì–‘í•œ ì‹¤ì œ ìƒí™©ì— ì ìš©í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ í‚¤ìš¸ ìˆ˜ ìˆë‹¤.
í”„ë¡œì íŠ¸ì˜ ëª©í‘œëŠ” STS ë°ì´í„°ì…‹ì„ í™œìš©í•´ ë‘ ë¬¸ì¥ì˜ ìœ ì‚¬ë„ë¥¼ ì¸¡ì •í•˜ëŠ” AI ëª¨ë¸ì„ êµ¬ì¶•í•˜ì—¬, 0~5 ì‚¬ì´ì˜ ìœ ì‚¬ë„ ì ìˆ˜ ì˜ˆì¸¡ì„ ì§„í–‰í•œë‹¤.

## ğŸ£ ë©¤ë²„ ì†Œê°œ
|ì´ì§€ì¸|êµ¬ë‹¤ì—°|ì˜¤ìˆ˜ì¢…|ì´ë¯¼ì•„|ì´í—Œíš¨|ì¥ìˆ˜ì •|
|:---:|:---:|:---:|:---:|:---:|:---:|
|![image](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/0ee055b6-c879-4e89-a3a8-9a20990e4300)|![image](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/31e9fe6c-c4e3-4aa0-bab9-76c6b58d7030)|![image](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/443f2311-9605-4780-aeb8-5e16765f2d79)|![image](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/f30af8f0-d693-42c7-a8d0-8b62ca3ef493)|![image](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/854d4d70-6dcc-44ca-997b-dd63877b4e2f)|![image](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/454b7a79-271a-4785-a005-de07b0e1dd2a)|
|[![badgeImage](https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white)](https://github.com/Boribori12)|[![badgeImage](https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white)](https://github.com/9ooDa)|[![badgeImage](https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white)](https://github.com/suta777)|[![badgeImage](https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white)](https://github.com/minari1505)|[![badgeImage](https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white)](https://github.com/AlpacaParker4592)|[![badgeImage](https://img.shields.io/badge/github-181717?style=flat-square&logo=github&logoColor=white)](https://github.com/jo9392)|

### ğŸ¥ ë©¤ë²„ë³„ ì—­í• 
|ì„±ëª…|ì—­í• |
|:--:|:---|
|ì´ì§€ì¸|ë°ì´í„° ì „ì²˜ë¦¬ - EDA(Easy Data Augmentation), Back Translation|
|êµ¬ë‹¤ì—°|GitHub ì—°ê²°, ë°ì´í„° ì „ì²˜ë¦¬ aggregation, ì í•©í•œ ëª¨ë¸ íƒìƒ‰ ë° ì ìš©|
|ì˜¤ìˆ˜ì¢…|ë°ì´í„° ë¶„ì„, ëª¨ë¸ Ensemble, ì í•©í•œ ëª¨ë¸ íƒìƒ‰ ë° ì ìš©|
|ì´ë¯¼ì•„|Loss function ì í•©ë„ íŒë‹¨, ì í•©í•œ ëª¨ë¸ íƒìƒ‰ ë° ì ìš©|
|ì´í—Œíš¨|ë°ì´í„° ì „ì²˜ë¦¬ - ë§ì¶¤ë²• êµì • ë° ë¬¸ì¥ ë‹¤ë“¬ê¸°, Optimizerë³„ ëª¨ë¸ ì‹¤í–‰ ë° ë¹„êµ ë¶„ì„|
|ì¥ìˆ˜ì •|í”„ë¡œì íŠ¸ ê¸°ì´ˆ ì„¤ì •, Wandb ë„ì…, ì í•©í•œ ëª¨ë¸ íƒìƒ‰ ë° ì ìš©|

## ğŸ’» ê°œë°œ í™˜ê²½
- **íŒ€ êµ¬ì„± ë° ì»´í“¨íŒ… í™˜ê²½**
  - 6ì¸ 1íŒ€, ì¸ë‹¹ V100 ì„œë²„ë¥¼ VSCodeì™€ SSHë¡œ ì—°ê²°í•˜ì—¬ ì‚¬ìš©
- **í˜‘ì—… í™˜ê²½**
  - ![notion](https://img.shields.io/badge/Notion-FFFFFF?style=flat-square&logo=Notion&logoColor=black) ![github](https://img.shields.io/badge/Github-181717?style=flat-square&logo=Github&logoColor=white) ![WandB](https://img.shields.io/badge/WeightsandBiases-FFBE00?style=flat-square&logo=WeightsandBiases&logoColor=white)
- **ì˜ì‚¬ì†Œí†µ**
  - ![zoom](https://img.shields.io/badge/Zoom-0B5CFF?style=flat-square&logo=Zoom&logoColor=white) ![slack](https://img.shields.io/badge/Slack-4A154B?style=flat-square&logo=Slack&logoColor=white)
- **ë²„ì „ ì •ë³´**
  - transformers==4.35.2 pytorch-lightning==2.1.2 pandas==2.1.3
  
## ğŸ“ˆ ì‚¬ìš© ë°ì´í„°
|ë°ì´í„°|ì‚¬ìš© ë°ì´í„°ì…‹|ëª©ì |êµ¬ì„±|
|---|---|---|---|
|í•™ìŠµ ë°ì´í„°|í›ˆë ¨ ë°ì´í„°(train.csv) ë° ê²€ì¦ ë°ì´í„°(dev.csv)|í•™ìŠµ ë°ì´í„°ì…‹ì— ê¸°ë°˜í•œ ëª¨ë¸(model.pt) ìƒì„±|ìƒ‰ì¸(index)<br>ë¬¸ì¥ ì¶œì²˜(source)<br>ë¹„êµí•  ë¬¸ì¥(sentence_1, sentence_2)<br>0.0~5.0ê¹Œì§€ì˜ ì—°ê´€ë„(label)<br>ì—°ê´€ë„ë¥¼ binaryí•˜ê²Œ ë‚˜íƒ€ë‚¸ ê°’(binary_level)|
|í‰ê°€ ë°ì´í„°|í‰ê°€ ë°ì´í„°(test.csv)|í•™ìŠµ ë°ì´í„° ë° ëª¨ë¸ì— ê¸°ë°˜í•œ ë‘ ë¬¸ì¥ ê°„ ì—°ê´€ë„(label) ì˜ˆì¸¡|ìƒ‰ì¸(index)<br>ë¬¸ì¥ ì¶œì²˜(source)<br>ë¹„êµí•  ë¬¸ì¥(sentence_1, sentence_2)|

## ğŸ–‡ï¸ íŒŒì¼ êµ¬ì¡°
```
.
|-- code
|   |-- __pycache__
|   |-- config.py
|   |-- config.yaml
|   |-- inference.py
|   |-- lightning_logs
|   |-- model
|   |-- requirements.txt
|   |-- train.py
|   `-- wandb
|-- data
|   |-- dev.csv
|   |-- output
|   |-- sample_submission.csv
|   |-- test.csv
|   `-- train.csv
`-- data_preprocessing
    |-- __pycache__
    |-- back_translation.py
    |-- down_sampling.py
    |-- eda.py
    |-- grammar_check.py
    |-- main.py
    `-- wordnet.pickle
```

## Appendix
<details><summary>
  
  ### ğŸ”§ ```KeyError: 'result'``` ë¬¸ì œ í•´ê²°í•˜ê¸°(py-hanspell íŒ¨í‚¤ì§€ ê´€ë ¨ ë¬¸ì œ)
  
  </summary>
  
#### ì›ì¸

* ë„¤ì´ë²„ ë§ì¶¤ë²• ê²€ì‚¬ê¸°ê°€ ì—…ë°ì´íŠ¸ë˜ì–´ íŒ¨í‚¤ì§€ ì°¨ì›ì—ì„œ ```passportKey```ì™€ ```callback``` ë³€ìˆ˜ë¥¼ ì œê³µí•´ì•¼ í•˜ì§€ë§Œ, py-hanspell íŒ¨í‚¤ì§€ê°€ ì—…ë°ì´íŠ¸ë˜ì§€ ì•Šì•„ ë°œìƒí•œ ë¬¸ì œ

#### í•´ê²° ë°©ë²•

1. ```.../lib/python3.10/site-packages/hanspell/spell_checker.py``` ë¶€ë¶„ì„ ```Ctrl``` + í´ë¦­í•˜ì—¬ íŒ¨í‚¤ì§€ íŒŒì¼ ë“¤ì–´ê°€ê¸°
2. ë„¤ì´ë²„ ë§ì¶¤ë²• ê²€ì‚¬ê¸°ì—ì„œ ```passportKey```, ```_callback``` ë³€ìˆ˜ê°’ì„ copyí•˜ê¸°
3. ```spell_checker.py``` íŒ¨í‚¤ì§€ íŒŒì¼ ìˆ˜ì •í•˜ê¸°

    1. ê°œë°œì íˆ´ì„ ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €(ì˜ˆ: Chrome)ë¡œ [ë„¤ì´ë²„ ë§ì¶¤ë²• ê²€ì‚¬ê¸° ë§í¬](https://search.naver.com/search.naver?where=nexearch&query=%EB%84%A4%EC%9D%B4%EB%B2%84+%EB%A7%9E%EC%B6%A4%EB%B2%95+%EA%B2%80%EC%82%AC%EA%B8%B0&ie=utf8&sm=tab_she&qdt=0)ì— ì ‘ì†í•œ í›„ ```F12``` ë²„íŠ¼ ëˆŒëŸ¬ ê°œë°œì íˆ´ ë“¤ì–´ê°€ê¸°
    2. ê°œë°œì íˆ´ì—ì„œ ```Network``` ì±„ë„ ë²„íŠ¼ í´ë¦­í•˜ê¸°
       ![Untitled](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/8cd40659-8d70-49eb-8897-a8b51aa64e6a)
    3. ë§ì¶¤ë²• ê²€ì‚¬ê¸°ì— ì•„ë¬´ ë¬¸êµ¬ë¥¼ ë„£ê³  ```Network``` ì±„ë„ ì°½ì— "spell" ê²€ìƒ‰í•˜ê¸°
       ![Untitled](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/4245b1cc-e848-4c35-a29a-47c333ba8c92)
    4. ```SpellerProxy?â€¦``` ë³€ìˆ˜ë¥¼ í´ë¦­í•˜ì—¬ ```Header``` ì±„ë„ì˜ ```RequestURL``` ë³€ìˆ˜ë¥¼ í™•ì¸í•˜ê¸°
    5. ```RequestURL``` ë³€ìˆ˜ì—ì„œ ```passportKey``` ë° ```_callback``` ë³€ìˆ˜ê°’ì„ ë³µì‚¬í•˜ê¸°
       ![Untitled](https://github.com/boostcampaitech6/level1-semantictextsimilarity-nlp-07/assets/153268935/90608c61-ee20-4b65-96e2-53b83c112d80)
       ì—¬ê¸°ì„œëŠ” ```passportKey=db951c57dce59ab5bda4148db8a11fe7e1277e6a```, ```_callback=jQuery112407861628390335917_1702639286516```ë¼ ë‚˜ì˜´.
   6. ```spell_checker.py```ë¡œ ëŒì•„ê°€ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•˜ê¸°
      * ìˆ˜ì • ì „
        ```python
        ...
        
        data = json.loads(r.text)
        
        ...
        
        payload = {'q': text, 'color_blindness': '0' }
        
        ...
        ```
      * ìˆ˜ì • í›„
        ```python
        ...
        
        import re
        json_data = re.search(r'\((.*)\)', r.text).group(1)
        data = json.loads(json_data)
        
        ...
        
        payload = {'passportKey': 'curlê°’ copyí•˜ê¸°',
					  '_callback': 'curlê°’ copyí•˜ê¸°',
					  'q': text,
					  'color_blindness': '0' }
        
        ...
        ```

  
</details>
